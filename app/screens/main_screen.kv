<MainScreen>:
    name: 'Main Screen'
    BoxLayout:
        opacity: 1 if not root.screen_loaded else 0
        Label:
            text: 'Loading screen...'
            color: 0,0,0,1
            font_size: sp(21)
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            bgg_color: 37/255, 41/255, 46/255, 1
            size_hint_y: None
            height: dp(60)
            Spacing:
            Image:
                source: 'data/images/tabnews.png'
                size_hint: None, None
                size: dp(25), dp(25)
                pos_hint: {'center_y': .5}
            Widget:
            ClickableLabel:
                markup: True
                text: '[b]Relevantes'
                size_hint: None, None
                width: self.texture_size[0] + dp(10)
                height: self.texture_size[1] + dp(5)
                pos_hint: {'center_y': .5}
                on_release: 
                    root.relevantes_selected = True
                    root.recentes_selected = False
                canvas.before:
                    Color:
                        rgba: (1,1,1,1) if root.relevantes_selected else (0,0,0,0)
                    Line:
                        width: dp(.777)
                        points: self.x + dp(5), self.y, self.x + self.width - dp(5), self.y
            ClickableLabel:
                markup: True
                text: '[b]Recentes'
                size_hint: None, None
                width: self.texture_size[0] + dp(10)
                height: self.texture_size[1] + dp(5)
                pos_hint: {'center_y': .5}
                on_release: 
                    root.relevantes_selected = False
                    root.recentes_selected = True
                canvas.before:
                    Color:
                        rgba: (1,1,1,1) if root.recentes_selected else (0,0,0,0)
                    Line:
                        width: dp(.777)
                        points: self.x + dp(5), self.y, self.x + self.width - dp(5), self.y
            Widget:
            Label:
                markup: True
                text: '[b]Login'
                size_hint_x: None
                width: self.texture_size[0] + dp(10)
            Label:
                markup: True
                text: '[b]Cadastrar'
                size_hint_x: None
                width: self.texture_size[0] + dp(10)
            Widget:
        Spacing:
        RecycleView:
            viewclass: 'Post'
            data: root.data
            RecycleBoxLayout:
                id: box
                # default_size: None, dp(56)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'
                spacing: dp(10)
        # Widget:
        #     bgg_color: red
        # Button:

<ClickableLabel@ButtonBehavior+Label>:
    

<Spacing@Widget>:
    size_hint_y: None
    height: dp(10)
    size_hint_x: None
    width: dp(10)

<Post>:
    orientation: 'vertical'
    size_hint_y: None
    # height: dp(42) + title.texture_size[1]
    height: self.minimum_height
    # bgg_color: purple
    title: title.__self__
    BoxLayout:
        size_hint_y: None
        height: title.texture_size[1]
        # bgg_color: red
        Spacing:
            width: dp(15)
            # bgg_color: red
        Label:
            markup: True
            text: f"[b]{root.post_number}."
            color: 37/255, 41/255, 46/255, 1
            size_hint_x: None
            width: self.texture_size[0]
            # bgg_color: red
        Spacing:
            # bgg_color: red
        Label:
            id: title
            markup: True
            text: f"[ref=[b]{root.post_title}"
            color: 37/255, 41/255, 46/255, 1
            halign: 'left'
            size_hint_x: None
            width: self.texture_size[0] 
            text_size: root.width - dp(40), None
            font_size: sp(16)
            multiline: True
            font_name: "data/fonts/emoji.ttf"
            on_ref_press: root.open_post()
            
            # bgg_color: green

    BoxLayout:
        size_hint_y: None
        height: metadata.texture_size[1]
        # bgg_color: green
        Spacing:
            width: dp(40)
        Label:
            id: metadata
            text: f"{root.post_tabcoins} tabcoins • {root.post_number_of_comments} comentários • {root.post_author} • {root.post_date}"
            color: 121/255, 121/255, 121/255, 1
            font_size: sp(12)
            size_hint_x: None
            width: self.texture_size[0]
            text_size: root.width - dp(40), None
